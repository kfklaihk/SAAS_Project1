module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(7291);function f({disabled:a}){let[d,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(!1),k=async()=>{j(!0);let{data:a}=await e.supabase.auth.getSession(),b=a.session?.user.id,c=await fetch("/api/ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:b,title:"Analysis",transcript:d})}),f=await c.json();j(!1),f.error?alert(f.error):(h(f.summary||"Generated analysis will appear here."),alert("Generated! Refresh to see the latest."))};return(0,b.jsxs)("div",{className:"mt-8 border rounded p-4 bg-white",children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Original Text"}),(0,b.jsx)("textarea",{className:"textarea w-full h-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Paste your original text here...",value:d,onChange:a=>f(a.target.value)}),(0,b.jsx)("button",{className:`mt-4 px-6 py-2 rounded font-medium transition ${a?"bg-gray-300 text-gray-500 cursor-not-allowed":i?"bg-blue-500 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,onClick:k,disabled:a||i,children:i?"Generating...":"Generate"}),(0,b.jsx)("h3",{className:"font-semibold mb-2 mt-6",children:"Generated Summary"}),(0,b.jsx)("textarea",{className:"textarea w-full h-40 px-3 py-2 border border-gray-300 rounded bg-gray-50",placeholder:"Generated analysis will appear here...",value:g,readOnly:!0})]})}function g({doc:a}){let c=a.output||{};return(0,b.jsxs)("div",{className:"border rounded p-4 bg-white",children:[(0,b.jsx)("h4",{className:"font-semibold",children:a.title}),(0,b.jsxs)("p",{className:"text-gray-700 mt-2",children:[(0,b.jsx)("strong",{children:"Summary:"})," ",c.summary??"—"]}),Array.isArray(c.decisions)&&c.decisions.length>0&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("strong",{children:"Decisions"}),(0,b.jsx)("ul",{className:"list-disc ml-6",children:c.decisions.map((a,c)=>(0,b.jsx)("li",{children:a},c))})]}),Array.isArray(c.action_items)&&c.action_items.length>0&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("strong",{children:"Action Items"}),(0,b.jsx)("ul",{className:"list-disc ml-6",children:c.action_items.map((a,c)=>(0,b.jsxs)("li",{children:[a.description," — ",(0,b.jsx)("em",{children:a.owner})," ",a.due_date?`(due ${a.due_date})`:""]},c))})]})]})}function h(){let[a,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)([]);if((0,c.useEffect)(()=>{e.supabase.auth.getSession().then(({data:a})=>h(a.session));let{data:a}=e.supabase.auth.onAuthStateChange((a,b)=>h(b));return()=>a?.subscription?.unsubscribe()},[]),(0,c.useEffect)(()=>{(async()=>{if(!a)return;let{data:b}=await e.supabase.from("profiles").select("*").eq("id",a.user.id).single();j(b);let{data:c}=await e.supabase.from("documents").select("*").eq("user_id",a.user.id).order("created_at",{ascending:!1});l(c??[])})()},[a]),!a)return(0,b.jsxs)("main",{className:"p-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Sign in to Dashboard"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Please sign in to access your dashboard and create summaries."})]});let m=i?.status==="active";return(0,b.jsxs)("main",{className:"mx-auto max-w-4xl p-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Dashboard"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[!m&&(0,b.jsx)(d.default,{href:"/#pricing",children:(0,b.jsx)("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition",children:"Upgrade"})}),(0,b.jsx)("button",{className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition",onClick:()=>e.supabase.auth.signOut(),children:"Sign Out"})]})]}),(0,b.jsx)(f,{disabled:!m}),(0,b.jsx)("section",{className:"mt-8 grid gap-4",children:k.map(a=>(0,b.jsx)(g,{doc:a},a.id))})]})}a.s(["default",()=>h],20731)}];

//# sourceMappingURL=_eedc61d0._.js.map