{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../app/dashboard/page.tsx","../../../../components/InputForm.tsx","../../../../components/ResultCard.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","// /app/dashboard/page.tsx\r\n'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport InputForm from '@/components/InputForm';\r\nimport ResultCard from '@/components/ResultCard';\r\n\r\nexport default function Dashboard() {\r\n  const [session, setSession] = useState<any>(null);\r\n  const [profile, setProfile] = useState<any>(null);\r\n  const [docs, setDocs] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    supabase.auth.getSession().then(({ data }) => setSession(data.session));\r\n    const { data: sub } = supabase.auth.onAuthStateChange((_e, s) => setSession(s));\r\n    return () => sub?.subscription?.unsubscribe();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!session) return;\r\n      const { data: prof } = await supabase.from('profiles').select('*').eq('id', session.user.id).single();\r\n      setProfile(prof);\r\n      const { data: docs } = await supabase.from('documents').select('*').eq('user_id', session.user.id).order('created_at', { ascending: false });\r\n      setDocs(docs ?? []);\r\n    })();\r\n  }, [session]);\r\n\r\n  if (!session) {\r\n    return (\r\n      <main className=\"p-8\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">Sign in to Dashboard</h2>\r\n        <p className=\"text-gray-600 mb-6\">Please sign in to access your dashboard and create summaries.</p>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  const isActive = profile?.status === 'active';\r\n\r\n  return (\r\n    <main className=\"mx-auto max-w-4xl p-8\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h2 className=\"text-2xl font-bold\">Dashboard</h2>\r\n        <div className=\"flex gap-3\">\r\n          {!isActive && (\r\n            <Link href=\"/#pricing\">\r\n              <button className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition\">\r\n                Upgrade\r\n              </button>\r\n            </Link>\r\n          )}\r\n          <button \r\n            className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition\"\r\n            onClick={() => supabase.auth.signOut()}\r\n          >\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <InputForm disabled={!isActive} />\r\n\r\n      <section className=\"mt-8 grid gap-4\">\r\n        {docs.map(d => <ResultCard key={d.id} doc={d} />)}\r\n      </section>\r\n    </main>\r\n  );\r\n}","// /components/InputForm.tsx\r\n'use client';\r\nimport { useState } from 'react';\r\nimport { supabase } from '@/lib/supabaseClient';\r\n\r\nexport default function InputForm({ disabled }: { disabled?: boolean }) {\r\n  const [originalText, setOriginalText] = useState('');\r\n  const [generatedSummary, setGeneratedSummary] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const generate = async () => {\r\n    setLoading(true);\r\n    const { data: session } = await supabase.auth.getSession();\r\n    const userId = session.session?.user.id!;\r\n    const res = await fetch('/api/ai', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ userId, title: 'Analysis', transcript: originalText })\r\n    });\r\n    const json = await res.json();\r\n    setLoading(false);\r\n    if (json.error) alert(json.error);\r\n    else {\r\n      setGeneratedSummary(json.summary || 'Generated analysis will appear here.');\r\n      alert('Generated! Refresh to see the latest.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-8 border rounded p-4 bg-white\">\r\n      <h3 className=\"font-semibold mb-2\">Original Text</h3>\r\n      <textarea \r\n        className=\"textarea w-full h-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\" \r\n        placeholder=\"Paste your original text here...\" \r\n        value={originalText} \r\n        onChange={e => setOriginalText(e.target.value)} \r\n      />\r\n      \r\n      <button \r\n        className={`mt-4 px-6 py-2 rounded font-medium transition ${\r\n          disabled\r\n            ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n            : loading\r\n            ? 'bg-blue-500 text-white'\r\n            : 'bg-blue-600 text-white hover:bg-blue-700'\r\n        }`}\r\n        onClick={generate} \r\n        disabled={disabled || loading}\r\n      >\r\n        {loading ? 'Generating...' : 'Generate'}\r\n      </button>\r\n\r\n      <h3 className=\"font-semibold mb-2 mt-6\">Generated Summary</h3>\r\n      <textarea \r\n        className=\"textarea w-full h-40 px-3 py-2 border border-gray-300 rounded bg-gray-50\" \r\n        placeholder=\"Generated analysis will appear here...\" \r\n        value={generatedSummary} \r\n        readOnly \r\n      />\r\n    </div>\r\n  );\r\n}","// /components/ResultCard.tsx\r\nexport default function ResultCard({ doc }: { doc: any }) {\r\n  const o = doc.output || {};\r\n  return (\r\n    <div className=\"border rounded p-4 bg-white\">\r\n      <h4 className=\"font-semibold\">{doc.title}</h4>\r\n      <p className=\"text-gray-700 mt-2\"><strong>Summary:</strong> {o.summary ?? '—'}</p>\r\n      {Array.isArray(o.decisions) && o.decisions.length > 0 && (\r\n        <div className=\"mt-2\">\r\n          <strong>Decisions</strong>\r\n          <ul className=\"list-disc ml-6\">{o.decisions.map((d: any, i: number) => <li key={i}>{d}</li>)}</ul>\r\n        </div>\r\n      )}\r\n      {Array.isArray(o.action_items) && o.action_items.length > 0 && (\r\n        <div className=\"mt-2\">\r\n          <strong>Action Items</strong>\r\n          <ul className=\"list-disc ml-6\">\r\n            {o.action_items.map((a: any, i: number) => (\r\n              <li key={i}>\r\n                {a.description} — <em>{a.owner}</em> {a.due_date ? `(due ${a.due_date})` : ''}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":["module","exports","require","vendored","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"4CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEE,6BAA6B,0CCAtD,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MCCe,SAAS,EAAU,UAAE,CAAQ,CAA0B,EACpE,GAAM,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEjC,EAAW,UACf,GAAW,GACX,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,MAAM,EAAA,QAAQ,CAAC,IAAI,CAAC,UAAU,GAClD,EAAS,EAAQ,OAAO,EAAE,KAAK,GAC/B,EAAM,MAAM,MAAM,UAAW,CACjC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,QAAE,EAAQ,MAAO,WAAY,WAAY,CAAa,EAC7E,GACM,EAAO,MAAM,EAAI,IAAI,GAC3B,GAAW,GACP,EAAK,KAAK,CAAE,MAAM,EAAK,KAAK,GAE9B,EAAoB,EAAK,OAAO,EAAI,wCACpC,MAAM,yCAEV,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAqB,kBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,UAAU,oHACV,YAAY,mCACZ,MAAO,EACP,SAAU,GAAK,EAAgB,EAAE,MAAM,CAAC,KAAK,IAG/C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAW,CAAC,8CAA8C,EACxD,EACI,+CACA,EACA,yBACA,2CAAA,CACJ,CACF,QAAS,EACT,SAAU,GAAY,WAErB,EAAU,gBAAkB,aAG/B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,sBACxC,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,UAAU,2EACV,YAAY,yCACZ,MAAO,EACP,QAAQ,CAAA,CAAA,MAIhB,CC5De,SAAS,EAAW,KAAE,CAAG,CAAgB,EACtD,IAAM,EAAI,EAAI,MAAM,EAAI,CAAC,EACzB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yBAAiB,EAAI,KAAK,GACxC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+BAAqB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,aAAiB,IAAE,EAAE,OAAO,EAAI,OACzE,MAAM,OAAO,CAAC,EAAE,SAAS,GAAK,EAAE,SAAS,CAAC,MAAM,CAAG,GAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,cACR,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0BAAkB,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,EAAQ,IAAc,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAY,GAAJ,SAGnF,MAAM,OAAO,CAAC,EAAE,YAAY,GAAK,EAAE,YAAY,CAAC,MAAM,CAAG,GACxD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,iBACR,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0BACX,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC,EAAQ,IAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACE,EAAE,WAAW,CAAC,MAAG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAI,EAAE,KAAK,GAAM,IAAE,EAAE,QAAQ,CAAG,CAAC,KAAK,EAAE,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAG,KADpE,WASvB,CFnBe,SAAS,IACtB,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MACtC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MACtC,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAQ,EAAE,EAkB1C,GAhBA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,EAAA,QAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,MAAE,CAAI,CAAE,GAAK,EAAW,EAAK,OAAO,GACrE,GAAM,CAAE,KAAM,CAAG,CAAE,CAAG,EAAA,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAI,IAAM,EAAW,IAC5E,MAAO,IAAM,GAAK,cAAc,aAClC,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACP,AAAD,WACE,GAAI,CAAC,EAAS,OACd,GAAM,CAAE,KAAM,CAAI,CAAE,CAAG,MAAM,EAAA,QAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,KAAK,EAAE,CAAC,KAAM,EAAQ,IAAI,CAAC,EAAE,EAAE,MAAM,GACnG,EAAW,GACX,GAAM,CAAE,KAAM,CAAI,CAAE,CAAG,MAAM,EAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,MAAM,CAAC,KAAK,EAAE,CAAC,UAAW,EAAQ,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,aAAc,CAAE,WAAW,CAAM,GAC1I,EAAQ,GAAQ,EAAE,EACpB,CAAC,EACH,EAAG,CAAC,EAAQ,EAER,CAAC,EACH,MACE,CAFU,AAEV,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,gBACd,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,yBACxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,qEAKxC,IAAM,EAAW,GAAS,SAAW,SAErC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,kCACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAqB,cACnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACZ,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,qBACT,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,gGAAuF,cAK7G,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,oGACV,QAAS,IAAM,EAAA,QAAQ,CAAC,IAAI,CAAC,OAAO,YACrC,mBAML,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,SAAU,CAAC,IAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,2BAChB,EAAK,GAAG,CAAC,GAAK,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAsB,IAAK,GAAX,EAAE,EAAE,OAI5C","ignoreList":[0,1]}